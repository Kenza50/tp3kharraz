<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ai.zencoder.plugin.chat.state-dedicated">
    <option name="activeChatId" value="4878e786-9144-4059-9293-7cbd667aa8e9" />
    <option name="chatSessions" value="{&quot;40b21c69-8c16-42a7-8611-867525629328&quot;:{&quot;id&quot;:&quot;40b21c69-8c16-42a7-8611-867525629328&quot;,&quot;createdAt&quot;:1762550686769,&quot;updatedAt&quot;:1762551087542,&quot;title&quot;:&quot;Maintenant vous allez demander au LLM de faire ...&quot;,&quot;messages&quot;:[{&quot;id&quot;:&quot;e59068d8-2794-4e7d-94cb-00d94ef68da4&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Maintenant vous allez demander au LLM de faire le guide touristique. C'est lui qui va retourner des informations sur la ville ou le pays passé en paramètre.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici ce qu'il faut faire :&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modifiez pom.xml pour pouvoir utiliser l'API de Gemini (revoyez le TP 2).&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Créer une classe de configuration REST pour indiquer en particulier avec quels URLs cette application sera concernée. Vous l'avez déjà écrite (HelloApplication) mais il est sans doute préférable de la renommer.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Comme pour le TP 2 vous allez créer une interface Java qui sera implémentée par LangChain4j, et qui contiendra la méthode qui sera utilisée pour envoyer des requêtes au LLM, et recevoir ses réponses. Vous pouvez l'appeler GuideTouristique, par exemple.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource JAX-RS est déjà créée (GuideTouristiquResource). Il reste juste à modifier le code de la méthode villeOuPays pour utiliser l'API du LLM.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, le plus simple est de recopier dans ce projet le code de la classe du TP 2 qui est utilisée dans le projet Web par le backing bean pour travailler avec le LLM. Mettez-la, par exemple, dans un package avec le nom final \&quot;llm\&quot;. Ensuite il suffira de l'injecter dans GuideTouristiquResource. Vous aurez peut-être quelques modifications à faire ; par exemple, vous n'aurez plus besoin de setter pour le rôle système.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La différence avec le TP 2 est qu'il n'y a qu'un seul rôle système, celui de guide touristique. Vous pouvez ajouter ce rôle système de plusieurs façons. Vous pouvez l'ajouter avec une annotation @SystemMessage de la méthode de l'interface (voir cours). Vous pouvez aussi l'ajouter dans la mémoire utilisée quand vous créez le service avec AiServices. Dans ce message système (écrivez-le en français) vous demandez au LLM de vous indiquer les 2 principaux endroits à visiter dans le lieu, ainsi que le prix moyen d'un repas dans la devise du pays. Vous lui dites aussi que vous voulez une réponse au format JSON, avec exactement ce format :&quot;},{&quot;type&quot;:&quot;codeSnippet&quot;,&quot;text&quot;:&quot;{\n  \&quot;ville_ou_pays\&quot;: \&quot;nom de la ville ou du pays\&quot;,\n  \&quot;endroits_a_visiter\&quot;: [\&quot;endroit 1\&quot;, \&quot;endroit 2\&quot;],\n  \&quot;prix_moyen_repas\&quot;: \&quot;&lt;prix&gt; &lt;devise du pays&gt;\&quot;\n}&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez aussi ajouter un exemple de ce que vous voulez comme réponse, mais le LLM devrait s'en sortir sans.&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/resources/GuideTouristiqueResource.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/resources/GuideTouristiqueResource.java&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;package ma.emsi.kharraz.tp3kharraz.resources;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.PathParam;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(\&quot;/guide\&quot;)\npublic class GuideTouristiqueResource {\n\n    @GET\n    @Path(\&quot;lieu/{ville_ou_pays}\&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public String[] getLieux(@PathParam(\&quot;ville_ou_pays\&quot;) String ville_ou_pays) {\n        return new String[]{ville_ou_pays};\n    }\n}\n&quot;,&quot;language&quot;:&quot;java&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762550686800,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Maintenant vous allez demander au LLM de faire le guide touristique. C'est lui qui va retourner des informations sur la ville ou le pays passé en paramètre.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici ce qu'il faut faire :&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modifiez pom.xml pour pouvoir utiliser l'API de Gemini (revoyez le TP 2).&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Créer une classe de configuration REST pour indiquer en particulier avec quels URLs cette application sera concernée. Vous l'avez déjà écrite (HelloApplication) mais il est sans doute préférable de la renommer.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Comme pour le TP 2 vous allez créer une interface Java qui sera implémentée par LangChain4j, et qui contiendra la méthode qui sera utilisée pour envoyer des requêtes au LLM, et recevoir ses réponses. Vous pouvez l'appeler GuideTouristique, par exemple.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource JAX-RS est déjà créée (GuideTouristiquResource). Il reste juste à modifier le code de la méthode villeOuPays pour utiliser l'API du LLM.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, le plus simple est de recopier dans ce projet le code de la classe du TP 2 qui est utilisée dans le projet Web par le backing bean pour travailler avec le LLM. Mettez-la, par exemple, dans un package avec le nom final \&quot;llm\&quot;. Ensuite il suffira de l'injecter dans GuideTouristiquResource. Vous aurez peut-être quelques modifications à faire ; par exemple, vous n'aurez plus besoin de setter pour le rôle système.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La différence avec le TP 2 est qu'il n'y a qu'un seul rôle système, celui de guide touristique. Vous pouvez ajouter ce rôle système de plusieurs façons. Vous pouvez l'ajouter avec une annotation @SystemMessage de la méthode de l'interface (voir cours). Vous pouvez aussi l'ajouter dans la mémoire utilisée quand vous créez le service avec AiServices. Dans ce message système (écrivez-le en français) vous demandez au LLM de vous indiquer les 2 principaux endroits à visiter dans le lieu, ainsi que le prix moyen d'un repas dans la devise du pays. Vous lui dites aussi que vous voulez une réponse au format JSON, avec exactement ce format :&quot;}]},{&quot;type&quot;:&quot;codeBlock&quot;,&quot;attrs&quot;:{&quot;language&quot;:null},&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;{\n  \&quot;ville_ou_pays\&quot;: \&quot;nom de la ville ou du pays\&quot;,\n  \&quot;endroits_a_visiter\&quot;: [\&quot;endroit 1\&quot;, \&quot;endroit 2\&quot;],\n  \&quot;prix_moyen_repas\&quot;: \&quot;&lt;prix&gt; &lt;devise du pays&gt;\&quot;\n}&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez aussi ajouter un exemple de ce que vous voulez comme réponse, mais le LLM devrait s'en sortir sans.&quot;}]}]},&quot;autoAppliedRules&quot;:[]},{&quot;id&quot;:&quot;5e484053-88a3-4174-a80b-8db8937fab12&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Maintenant vous allez demander au LLM de faire le guide touristique. C'est lui qui va retourner des informations sur la ville ou le pays passé en paramètre.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici ce qu'il faut faire :&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modifiez pom.xml pour pouvoir utiliser l'API de Gemini (revoyez le TP 2).&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Créer une classe de configuration REST pour indiquer en particulier avec quels URLs cette application sera concernée. Vous l'avez déjà écrite (HelloApplication) mais il est sans doute préférable de la renommer.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Comme pour le TP 2 vous allez créer une interface Java qui sera implémentée par LangChain4j, et qui contiendra la méthode qui sera utilisée pour envoyer des requêtes au LLM, et recevoir ses réponses. Vous pouvez l'appeler GuideTouristique, par exemple.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource JAX-RS est déjà créée (GuideTouristiquResource). Il reste juste à modifier le code de la méthode villeOuPays pour utiliser l'API du LLM.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, le plus simple est de recopier dans ce projet le code de la classe du TP 2 qui est utilisée dans le projet Web par le backing bean pour travailler avec le LLM. Mettez-la, par exemple, dans un package avec le nom final \&quot;llm\&quot;. Ensuite il suffira de l'injecter dans GuideTouristiquResource. Vous aurez peut-être quelques modifications à faire ; par exemple, vous n'aurez plus besoin de setter pour le rôle système.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La différence avec le TP 2 est qu'il n'y a qu'un seul rôle système, celui de guide touristique. Vous pouvez ajouter ce rôle système de plusieurs façons. Vous pouvez l'ajouter avec une annotation @SystemMessage de la méthode de l'interface (voir cours). Vous pouvez aussi l'ajouter dans la mémoire utilisée quand vous créez le service avec AiServices. Dans ce message système (écrivez-le en français) vous demandez au LLM de vous indiquer les 2 principaux endroits à visiter dans le lieu, ainsi que le prix moyen d'un repas dans la devise du pays. Vous lui dites aussi que vous voulez une réponse au format JSON, avec exactement ce format :&quot;},{&quot;type&quot;:&quot;codeSnippet&quot;,&quot;text&quot;:&quot;{\n  \&quot;ville_ou_pays\&quot;: \&quot;nom de la ville ou du pays\&quot;,\n  \&quot;endroits_a_visiter\&quot;: [\&quot;endroit 1\&quot;, \&quot;endroit 2\&quot;],\n  \&quot;prix_moyen_repas\&quot;: \&quot;&lt;prix&gt; &lt;devise du pays&gt;\&quot;\n}&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez aussi ajouter un exemple de ce que vous voulez comme réponse, mais le LLM devrait s'en sortir sans.&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/resources/GuideTouristiqueResource.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/resources/GuideTouristiqueResource.java&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;package ma.emsi.kharraz.tp3kharraz.resources;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.PathParam;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(\&quot;/guide\&quot;)\npublic class GuideTouristiqueResource {\n\n    @GET\n    @Path(\&quot;lieu/{ville_ou_pays}\&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public String[] getLieux(@PathParam(\&quot;ville_ou_pays\&quot;) String ville_ou_pays) {\n        return new String[]{ville_ou_pays};\n    }\n}\n&quot;,&quot;language&quot;:&quot;java&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762551087542,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Maintenant vous allez demander au LLM de faire le guide touristique. C'est lui qui va retourner des informations sur la ville ou le pays passé en paramètre.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici ce qu'il faut faire :&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modifiez pom.xml pour pouvoir utiliser l'API de Gemini (revoyez le TP 2).&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Créer une classe de configuration REST pour indiquer en particulier avec quels URLs cette application sera concernée. Vous l'avez déjà écrite (HelloApplication) mais il est sans doute préférable de la renommer.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Comme pour le TP 2 vous allez créer une interface Java qui sera implémentée par LangChain4j, et qui contiendra la méthode qui sera utilisée pour envoyer des requêtes au LLM, et recevoir ses réponses. Vous pouvez l'appeler GuideTouristique, par exemple.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource JAX-RS est déjà créée (GuideTouristiquResource). Il reste juste à modifier le code de la méthode villeOuPays pour utiliser l'API du LLM.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, le plus simple est de recopier dans ce projet le code de la classe du TP 2 qui est utilisée dans le projet Web par le backing bean pour travailler avec le LLM. Mettez-la, par exemple, dans un package avec le nom final \&quot;llm\&quot;. Ensuite il suffira de l'injecter dans GuideTouristiquResource. Vous aurez peut-être quelques modifications à faire ; par exemple, vous n'aurez plus besoin de setter pour le rôle système.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La différence avec le TP 2 est qu'il n'y a qu'un seul rôle système, celui de guide touristique. Vous pouvez ajouter ce rôle système de plusieurs façons. Vous pouvez l'ajouter avec une annotation @SystemMessage de la méthode de l'interface (voir cours). Vous pouvez aussi l'ajouter dans la mémoire utilisée quand vous créez le service avec AiServices. Dans ce message système (écrivez-le en français) vous demandez au LLM de vous indiquer les 2 principaux endroits à visiter dans le lieu, ainsi que le prix moyen d'un repas dans la devise du pays. Vous lui dites aussi que vous voulez une réponse au format JSON, avec exactement ce format :&quot;}]},{&quot;type&quot;:&quot;codeBlock&quot;,&quot;attrs&quot;:{&quot;language&quot;:null},&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;{\n  \&quot;ville_ou_pays\&quot;: \&quot;nom de la ville ou du pays\&quot;,\n  \&quot;endroits_a_visiter\&quot;: [\&quot;endroit 1\&quot;, \&quot;endroit 2\&quot;],\n  \&quot;prix_moyen_repas\&quot;: \&quot;&lt;prix&gt; &lt;devise du pays&gt;\&quot;\n}&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez aussi ajouter un exemple de ce que vous voulez comme réponse, mais le LLM devrait s'en sortir sans.&quot;}]}]},&quot;autoAppliedRules&quot;:[]}],&quot;isAgent&quot;:true,&quot;isCustomAgent&quot;:false,&quot;isUnitTestsAgent&quot;:false,&quot;isE2EAgent&quot;:false,&quot;isQnaAgent&quot;:false,&quot;isRepoInfoAgent&quot;:false,&quot;isClaudeCode&quot;:false,&quot;isZencoderCli&quot;:false,&quot;autoApply&quot;:true,&quot;model&quot;:&quot;default&quot;},&quot;842e038b-5e39-4360-975a-fbdbbea2ad56&quot;:{&quot;id&quot;:&quot;842e038b-5e39-4360-975a-fbdbbea2ad56&quot;,&quot;createdAt&quot;:1762551404057,&quot;updatedAt&quot;:1762551404064,&quot;title&quot;:&quot;Maintenant vous allez demander au LLM de faire ...&quot;,&quot;messages&quot;:[{&quot;id&quot;:&quot;f25a23b0-112d-469d-afa2-81afe1ba9b9a&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Maintenant vous allez demander au LLM de faire le guide touristique. C'est lui qui va retourner des informations sur la ville ou le pays passé en paramètre.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici ce qu'il faut faire :&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modifiez pom.xml pour pouvoir utiliser l'API de Gemini (revoyez le TP 2).&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Créer une classe de configuration REST pour indiquer en particulier avec quels URLs cette application sera concernée. Vous l'avez déjà écrite (HelloApplication) mais il est sans doute préférable de la renommer.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Comme pour le TP 2 vous allez créer une interface Java qui sera implémentée par LangChain4j, et qui contiendra la méthode qui sera utilisée pour envoyer des requêtes au LLM, et recevoir ses réponses. Vous pouvez l'appeler GuideTouristique, par exemple.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource JAX-RS est déjà créée (GuideTouristiquResource). Il reste juste à modifier le code de la méthode villeOuPays pour utiliser l'API du LLM.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, le plus simple est de recopier dans ce projet le code de la classe du TP 2 qui est utilisée dans le projet Web par le backing bean pour travailler avec le LLM. Mettez-la, par exemple, dans un package avec le nom final \&quot;llm\&quot;. Ensuite il suffira de l'injecter dans GuideTouristiquResource. Vous aurez peut-être quelques modifications à faire ; par exemple, vous n'aurez plus besoin de setter pour le rôle système.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La différence avec le TP 2 est qu'il n'y a qu'un seul rôle système, celui de guide touristique. Vous pouvez ajouter ce rôle système de plusieurs façons. Vous pouvez l'ajouter avec une annotation @SystemMessage de la méthode de l'interface (voir cours). Vous pouvez aussi l'ajouter dans la mémoire utilisée quand vous créez le service avec AiServices. Dans ce message système (écrivez-le en français) vous demandez au LLM de vous indiquer les 2 principaux endroits à visiter dans le lieu, ainsi que le prix moyen d'un repas dans la devise du pays. Vous lui dites aussi que vous voulez une réponse au format JSON, avec exactement ce format :&quot;},{&quot;type&quot;:&quot;codeSnippet&quot;,&quot;text&quot;:&quot;{\n  \&quot;ville_ou_pays\&quot;: \&quot;nom de la ville ou du pays\&quot;,\n  \&quot;endroits_a_visiter\&quot;: [\&quot;endroit 1\&quot;, \&quot;endroit 2\&quot;],\n  \&quot;prix_moyen_repas\&quot;: \&quot;&lt;prix&gt; &lt;devise du pays&gt;\&quot;\n}&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez aussi ajouter un exemple de ce que vous voulez comme réponse, mais le LLM devrait s'en sortir sans.&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/resources/GuideTouristiqueResource.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/resources/GuideTouristiqueResource.java&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;package ma.emsi.kharraz.tp3kharraz.resources;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.PathParam;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(\&quot;/guide\&quot;)\npublic class GuideTouristiqueResource {\n\n    @GET\n    @Path(\&quot;lieu/{ville_ou_pays}\&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public String[] getLieux(@PathParam(\&quot;ville_ou_pays\&quot;) String ville_ou_pays) {\n        return new String[]{ville_ou_pays};\n    }\n}\n&quot;,&quot;language&quot;:&quot;java&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762551404064,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Maintenant vous allez demander au LLM de faire le guide touristique. C'est lui qui va retourner des informations sur la ville ou le pays passé en paramètre.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici ce qu'il faut faire :&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modifiez pom.xml pour pouvoir utiliser l'API de Gemini (revoyez le TP 2).&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Créer une classe de configuration REST pour indiquer en particulier avec quels URLs cette application sera concernée. Vous l'avez déjà écrite (HelloApplication) mais il est sans doute préférable de la renommer.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Comme pour le TP 2 vous allez créer une interface Java qui sera implémentée par LangChain4j, et qui contiendra la méthode qui sera utilisée pour envoyer des requêtes au LLM, et recevoir ses réponses. Vous pouvez l'appeler GuideTouristique, par exemple.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource JAX-RS est déjà créée (GuideTouristiquResource). Il reste juste à modifier le code de la méthode villeOuPays pour utiliser l'API du LLM.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, le plus simple est de recopier dans ce projet le code de la classe du TP 2 qui est utilisée dans le projet Web par le backing bean pour travailler avec le LLM. Mettez-la, par exemple, dans un package avec le nom final \&quot;llm\&quot;. Ensuite il suffira de l'injecter dans GuideTouristiquResource. Vous aurez peut-être quelques modifications à faire ; par exemple, vous n'aurez plus besoin de setter pour le rôle système.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La différence avec le TP 2 est qu'il n'y a qu'un seul rôle système, celui de guide touristique. Vous pouvez ajouter ce rôle système de plusieurs façons. Vous pouvez l'ajouter avec une annotation @SystemMessage de la méthode de l'interface (voir cours). Vous pouvez aussi l'ajouter dans la mémoire utilisée quand vous créez le service avec AiServices. Dans ce message système (écrivez-le en français) vous demandez au LLM de vous indiquer les 2 principaux endroits à visiter dans le lieu, ainsi que le prix moyen d'un repas dans la devise du pays. Vous lui dites aussi que vous voulez une réponse au format JSON, avec exactement ce format :&quot;}]},{&quot;type&quot;:&quot;codeBlock&quot;,&quot;attrs&quot;:{&quot;language&quot;:null},&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;{\n  \&quot;ville_ou_pays\&quot;: \&quot;nom de la ville ou du pays\&quot;,\n  \&quot;endroits_a_visiter\&quot;: [\&quot;endroit 1\&quot;, \&quot;endroit 2\&quot;],\n  \&quot;prix_moyen_repas\&quot;: \&quot;&lt;prix&gt; &lt;devise du pays&gt;\&quot;\n}&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez aussi ajouter un exemple de ce que vous voulez comme réponse, mais le LLM devrait s'en sortir sans.&quot;}]}]},&quot;autoAppliedRules&quot;:[]}],&quot;isAgent&quot;:true,&quot;isCustomAgent&quot;:false,&quot;isUnitTestsAgent&quot;:false,&quot;isE2EAgent&quot;:false,&quot;isQnaAgent&quot;:false,&quot;isRepoInfoAgent&quot;:false,&quot;isClaudeCode&quot;:false,&quot;isZencoderCli&quot;:false,&quot;autoApply&quot;:true,&quot;model&quot;:&quot;default&quot;},&quot;a03df04d-e293-443e-8d92-2e3b050ae00b&quot;:{&quot;id&quot;:&quot;a03df04d-e293-443e-8d92-2e3b050ae00b&quot;,&quot;createdAt&quot;:1762352037312,&quot;updatedAt&quot;:1762352107617,&quot;title&quot;:&quot;Langchain Dependency Setup&quot;,&quot;messages&quot;:[{&quot;id&quot;:&quot;b4d6b3f9-ed71-4c75-aacb-d907575b881b&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;add langchain dependency&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;pom.xml&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/pom.xml&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;project xmlns=\&quot;http://maven.apache.org/POM/4.0.0\&quot;\n         xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n         xsi:schemaLocation=\&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ma.emsi.kharraz&lt;/groupId&gt;\n    &lt;artifactId&gt;tp3kharraz&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;tp3kharraz&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.10.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;10.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;&quot;,&quot;language&quot;:&quot;xml&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762352037337,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;add langchain dependency&quot;}]}]},&quot;autoAppliedRules&quot;:[]},{&quot;id&quot;:&quot;cad3bfc6-fe76-4731-96ff-2eeeb1e1ff5a&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;add langchain dependency use 1.5.0 version&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;pom.xml&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/pom.xml&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;project xmlns=\&quot;http://maven.apache.org/POM/4.0.0\&quot;\n         xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n         xsi:schemaLocation=\&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ma.emsi.kharraz&lt;/groupId&gt;\n    &lt;artifactId&gt;tp3kharraz&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;tp3kharraz&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.10.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;10.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;&quot;,&quot;language&quot;:&quot;xml&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762352063342,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;add langchain dependency use 1.5.0 version &quot;}]}]},&quot;autoAppliedRules&quot;:[]},{&quot;id&quot;:&quot;2013b6aa-a980-44db-b033-d6cae6495cff&quot;,&quot;role&quot;:&quot;assistant&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;thought&quot;,&quot;text&quot;:&quot;**Preparing to check repository guidelines**&quot;},{&quot;type&quot;:&quot;toolCall&quot;,&quot;toolCallId&quot;:&quot;call_zG1IXdBKBsEl0nTMndrnq8wc&quot;,&quot;title&quot;:&quot;&quot;,&quot;statusText&quot;:&quot;File not found&quot;,&quot;status&quot;:&quot;WARNING&quot;,&quot;isHidden&quot;:false},{&quot;type&quot;:&quot;thought&quot;,&quot;text&quot;:&quot;**Noticing a missing file**&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;I couldn’t find `.zencoder/rules/repo.md` in the repository. It would be helpful to generate that file (it can be created automatically) to improve future assistance.\n\n## Next Steps\n1. Add the LangChain dependency to your `pom.xml`:\n   ```xml\n   &lt;dependency&gt;\n       &lt;groupId&gt;com.langchain4j&lt;/groupId&gt;\n       &lt;artifactId&gt;langchain4j&lt;/artifactId&gt;\n       &lt;version&gt;1.5.0&lt;/version&gt;\n   &lt;/dependency&gt;\n   ```\n2. Place it inside the existing `&lt;dependencies&gt;` section.\n3. Run `mvn install` (or your usual build command) to ensure everything resolves correctly.\n\nLet me know if you’d like me to insert it for you or run a build check afterward.&quot;}],&quot;context&quot;:{&quot;author&quot;:&quot;Code agent&quot;,&quot;operationId&quot;:&quot;669c9a2e-0343-4613-88d2-2659f5693290&quot;,&quot;usageStatistics&quot;:{&quot;llmCallsUsedForAnswer&quot;:2.0,&quot;llmCallsUsedTotal&quot;:2.0,&quot;llmCallsLimit&quot;:30.0,&quot;limitRenewalMillisecondTimestamp&quot;:1762355289392}},&quot;createdAt&quot;:1762352107617,&quot;isInternal&quot;:false}],&quot;isAgent&quot;:true,&quot;isNameGenerated&quot;:true,&quot;isCustomAgent&quot;:false,&quot;isUnitTestsAgent&quot;:false,&quot;isE2EAgent&quot;:false,&quot;isQnaAgent&quot;:false,&quot;isRepoInfoAgent&quot;:false,&quot;isClaudeCode&quot;:false,&quot;isZencoderCli&quot;:false,&quot;autoApply&quot;:true,&quot;model&quot;:&quot;default&quot;},&quot;c56586d4-c247-47e0-ab1b-6e7900ecda34&quot;:{&quot;id&quot;:&quot;c56586d4-c247-47e0-ab1b-6e7900ecda34&quot;,&quot;createdAt&quot;:1762265577173,&quot;updatedAt&quot;:1762265580371,&quot;title&quot;:&quot;Introduction à JAX-RS REST&quot;,&quot;messages&quot;:[{&quot;id&quot;:&quot;b5fb9e49-45dd-4b35-af0a-db443891e8cc&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;REST&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Rapide introduction à JAX-RS, spécification de Jakarta EE pour l'écriture d'une application REST, en utilisant le code généré par IntelliJ IDEA.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Code généré&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Examinez le code généré par l'IDE. 2 classes Java ont été créées, HelloApplication et HelloResource, écrites selon la spécification JAX-RS de Jakarta EE :&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;HelloApplication sert à configurer l'application REST. Cette classe définit la racine des URLs pour lancer des requêtes vers les ressources REST de l'application (valeur \&quot;/api\&quot; de l'annotation @ApplicationPath). On pourrait y ajouter d'autres configurations pour REST.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource HelloResource définit une ressource REST, un des endpoints de l'application.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Classe HelloResource :&quot;},{&quot;type&quot;:&quot;codeSnippet&quot;,&quot;text&quot;:&quot;@Path(\&quot;/hello-world\&quot;)\npublic class HelloResource {\n    \n    @GET\n    @Produces(\&quot;text/plain\&quot;)\n    public String hello(){\n        return \&quot;Hello, World!\&quot;;\n    }\n}&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;L'annotation @Path(\&quot;/hello-world\&quot;) indique que la classe traitera les requêtes REST vers les URL de racine http://localhost:8080/&lt;context path&gt;/api/hello-world.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;&lt;context-path&gt; désigne le contexte de l'application qu'il faut remplacer par sa valeur, Par défaut, ce contexte est le nom du fichier war de l'application avec la version accolée en suffixe ; vous pouvez le voir en allant dans le menu Run &gt; Edit Configurations..., par exemple, http://localhost:8080/tp3Xxxxx-1.0-SNAPSHOT/.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;\&quot;api\&quot; vient de la classe HelloApplication.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;L'annotation @GET indique que la méthode hello() sera exécutée pour traiter les requêtes HTTP GET. Le code de cette méthode retourne une réponse HTTP avec le contenu \&quot;Hello, World!\&quot;.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;L'annotation @Produces(\&quot;text/plain\&quot;) indique que la méthode retourne un simple texte. Le plus souvent, les méthodes de ressources retournent du JSON et dans ce cas elles sont annotées par @Produces(\&quot;application/json\&quot;)&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Test du code&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vérifiez que la configuration d'exécution est correcte : menu RUN &gt; Edit configurations... Vérifiez le serveur, la version de Java, la construction du fichier war et son déploiement. Profitez-en pour changer le nom de la configuration (par exemple \&quot;TP3 REST\&quot;).&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Démarrez l'application, ce qui démarre le serveur d'application. Le serveur d'application Payara va être démarré. Une nouvelle page va s'ouvrir dans le navigateur avec une erreur 404. Cette erreur est normale car l'application n'a pas de page HTML ni de page JSF. Remarquez l'URL ; c'est une autre façon de voir le contexte de l'application.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour voir REST en action, changez cet l'URL du navigateur pour ajouter à la fin api/hello-world. Une requête GET est envoyée au serveur. \&quot;Hello, World!\&quot; devrait s'afficher en réponse.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez changer certaines des valeurs des 2 classes REST pour voir si vous avez compris. Il faut redéployer l'application à chaque modification.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;S'il est installé sur votre ordinateur, vous pouvez aussi tester avec curl. Tapez la commande&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;curl http://localhost:8080/&lt;context path&gt;/api/hello-world&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;ou bien, pour avoir plus d'information sur la requête et la réponse :&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;curl -v http://localhost:8080/&lt;context path&gt;/api/hello-world&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modification du code&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Ajouter un paramètre à la méthode hello&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous allez ajouter un paramètre à la méthode hello. La valeur de ce paramètre sera donnée dans l'URL : quand une requête GET sera envoyée avec l'URL \&quot;.../api/hello-world/personnes/Mohamed\&quot; , une page Web s'ouvre et affiche \&quot;Hello, Mohamed\&quot;. Pour une \&quot;vraie\&quot; application REST, cette page devrait sans doute afficher des informations sur la personne nommée Mohamed ; cette application veut juste vous montrer des points sur JAX-RS qui vous seront utiles pour ce TP.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, il va falloir modifier la méthode hello :&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Ajouter une annotation @Path(\&quot;personnes/{nom}\&quot;) ; cette annotation indique que la méthode sera appelée avec un URL de type \&quot;.../api/hello/personnes/Mohamed\&quot;.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Ajouter un paramètre à la méthode et indiquer que sa valeur sera donnée dans l'URL. Sa valeur sera, par exemple, \&quot;Mohamed\&quot; avec l'URL ci-dessus. Pour cela il faut annoter le paramètre par @PathParam(\&quot;nom\&quot;) (\&quot;nom\&quot; doit correspondre à l'annotation de la méthode).&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Redéployez et testez du code.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Si tout va bien commit et push.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Type retour Response&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Si vous changez le type retour de la méthode hello en jakarta.ws.rs.core.Response, vous pourrez donner plus d'informations au client HTTP : code retour, headers, cookies,...&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici un exemple de code pour retourner la même réponse, avec le statut \&quot;ok\&quot; : return Response.ok(\&quot;Hello, \&quot; + nom).build();&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Testez.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour finir, mettez la ligne du return en commentaire et ajouter un autre return pour que le client HTTP reçoive un message de type \&quot;Internal Server Error\&quot;.&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;package ma.emsi.kharraz.tp3kharraz;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\n\n@Path(\&quot;/hello-world\&quot;)\npublic class HelloResource {\n    @GET\n    @Produces(\&quot;text/plain\&quot;)\n    public String hello() {\n        return \&quot;Hello, World!\&quot;;\n    }\n}&quot;,&quot;language&quot;:&quot;java&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762265577182,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;REST&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Rapide introduction à JAX-RS, spécification de Jakarta EE pour l'écriture d'une application REST, en utilisant le code généré par IntelliJ IDEA.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Code généré&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Examinez le code généré par l'IDE. 2 classes Java ont été créées, HelloApplication et HelloResource, écrites selon la spécification JAX-RS de Jakarta EE :&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;HelloApplication sert à configurer l'application REST. Cette classe définit la racine des URLs pour lancer des requêtes vers les ressources REST de l'application (valeur \&quot;/api\&quot; de l'annotation @ApplicationPath). On pourrait y ajouter d'autres configurations pour REST.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;La classe de ressource HelloResource définit une ressource REST, un des endpoints de l'application.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Classe HelloResource :&quot;}]},{&quot;type&quot;:&quot;codeBlock&quot;,&quot;attrs&quot;:{&quot;language&quot;:null},&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;@Path(\&quot;/hello-world\&quot;)\npublic class HelloResource {\n    \n    @GET\n    @Produces(\&quot;text/plain\&quot;)\n    public String hello(){\n        return \&quot;Hello, World!\&quot;;\n    }\n}&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;L'annotation @Path(\&quot;/hello-world\&quot;) indique que la classe traitera les requêtes REST vers les URL de racine http://localhost:8080/&lt;context path&gt;/api/hello-world.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;&lt;context-path&gt; désigne le contexte de l'application qu'il faut remplacer par sa valeur, Par défaut, ce contexte est le nom du fichier war de l'application avec la version accolée en suffixe ; vous pouvez le voir en allant dans le menu Run &gt; Edit Configurations..., par exemple, http://localhost:8080/tp3Xxxxx-1.0-SNAPSHOT/.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;\&quot;api\&quot; vient de la classe HelloApplication.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;L'annotation @GET indique que la méthode hello() sera exécutée pour traiter les requêtes HTTP GET. Le code de cette méthode retourne une réponse HTTP avec le contenu \&quot;Hello, World!\&quot;.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;L'annotation @Produces(\&quot;text/plain\&quot;) indique que la méthode retourne un simple texte. Le plus souvent, les méthodes de ressources retournent du JSON et dans ce cas elles sont annotées par @Produces(\&quot;application/json\&quot;)&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Test du code&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vérifiez que la configuration d'exécution est correcte : menu RUN &gt; Edit configurations... Vérifiez le serveur, la version de Java, la construction du fichier war et son déploiement. Profitez-en pour changer le nom de la configuration (par exemple \&quot;TP3 REST\&quot;).&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Démarrez l'application, ce qui démarre le serveur d'application. Le serveur d'application Payara va être démarré. Une nouvelle page va s'ouvrir dans le navigateur avec une erreur 404. Cette erreur est normale car l'application n'a pas de page HTML ni de page JSF. Remarquez l'URL ; c'est une autre façon de voir le contexte de l'application.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour voir REST en action, changez cet l'URL du navigateur pour ajouter à la fin api/hello-world. Une requête GET est envoyée au serveur. \&quot;Hello, World!\&quot; devrait s'afficher en réponse.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous pouvez changer certaines des valeurs des 2 classes REST pour voir si vous avez compris. Il faut redéployer l'application à chaque modification.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;S'il est installé sur votre ordinateur, vous pouvez aussi tester avec curl. Tapez la commande&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;curl http://localhost:8080/&lt;context path&gt;/api/hello-world&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;ou bien, pour avoir plus d'information sur la requête et la réponse :&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;curl -v http://localhost:8080/&lt;context path&gt;/api/hello-world&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Modification du code&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Ajouter un paramètre à la méthode hello&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Vous allez ajouter un paramètre à la méthode hello. La valeur de ce paramètre sera donnée dans l'URL : quand une requête GET sera envoyée avec l'URL \&quot;.../api/hello-world/personnes/Mohamed\&quot; , une page Web s'ouvre et affiche \&quot;Hello, Mohamed\&quot;. Pour une \&quot;vraie\&quot; application REST, cette page devrait sans doute afficher des informations sur la personne nommée Mohamed ; cette application veut juste vous montrer des points sur JAX-RS qui vous seront utiles pour ce TP.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour cela, il va falloir modifier la méthode hello :&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Ajouter une annotation @Path(\&quot;personnes/{nom}\&quot;) ; cette annotation indique que la méthode sera appelée avec un URL de type \&quot;.../api/hello/personnes/Mohamed\&quot;.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Ajouter un paramètre à la méthode et indiquer que sa valeur sera donnée dans l'URL. Sa valeur sera, par exemple, \&quot;Mohamed\&quot; avec l'URL ci-dessus. Pour cela il faut annoter le paramètre par @PathParam(\&quot;nom\&quot;) (\&quot;nom\&quot; doit correspondre à l'annotation de la méthode).&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Redéployez et testez du code.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Si tout va bien commit et push.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Type retour Response&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Si vous changez le type retour de la méthode hello en jakarta.ws.rs.core.Response, vous pourrez donner plus d'informations au client HTTP : code retour, headers, cookies,...&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Voici un exemple de code pour retourner la même réponse, avec le statut \&quot;ok\&quot; : return Response.ok(\&quot;Hello, \&quot; + nom).build();&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Testez.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Pour finir, mettez la ligne du return en commentaire et ajouter un autre return pour que le client HTTP reçoive un message de type \&quot;Internal Server Error\&quot;.&quot;}]}]},&quot;autoAppliedRules&quot;:[]},{&quot;id&quot;:&quot;802c46c6-bca1-4be0-b4bb-c02de7a36d5f&quot;,&quot;role&quot;:&quot;assistant&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;thought&quot;,&quot;text&quot;:&quot;**Preparing to review repo rules**&quot;},{&quot;type&quot;:&quot;toolCall&quot;,&quot;toolCallId&quot;:&quot;call_hw25RmyvsngsYGSKSS9HLWXI&quot;,&quot;title&quot;:&quot;&quot;,&quot;statusText&quot;:&quot;File not found&quot;,&quot;status&quot;:&quot;WARNING&quot;,&quot;isHidden&quot;:false},{&quot;type&quot;:&quot;thought&quot;,&quot;text&quot;:&quot;**Preparing guidance on missing repo rules**&quot;},{&quot;type&quot;:&quot;toolCall&quot;,&quot;toolCallId&quot;:&quot;call_HCIxVjBDvISCzZn4gmXZAG8v&quot;,&quot;statusText&quot;:&quot;Viewed directory&quot;,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;context&quot;:{&quot;files&quot;:[{&quot;path&quot;:&quot;.&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz&quot;}]},&quot;isHidden&quot;:false},{&quot;type&quot;:&quot;thought&quot;,&quot;text&quot;:&quot;**Checking for .zencoder/rules file and inspecting HelloResource**&quot;},{&quot;type&quot;:&quot;toolCall&quot;,&quot;toolCallId&quot;:&quot;call_DxZWIGRq4BFzOcdt4q7VaDno&quot;,&quot;statusText&quot;:&quot;Viewed file (lines 1:14)&quot;,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;context&quot;:{&quot;files&quot;:[{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;}]},&quot;isHidden&quot;:false},{&quot;type&quot;:&quot;thought&quot;,&quot;text&quot;:&quot;**Updating method annotations and response handling**&quot;},{&quot;type&quot;:&quot;toolCall&quot;,&quot;toolCallId&quot;:&quot;call_MIvRIjT8233DAislaAft7Ctn&quot;,&quot;statusText&quot;:&quot;Change generated&quot;,&quot;status&quot;:&quot;SUCCESS&quot;,&quot;context&quot;:{&quot;files&quot;:[{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;}]},&quot;isHidden&quot;:false},{&quot;type&quot;:&quot;codeHunk&quot;,&quot;lineBasedDiff&quot;:&quot;--- C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java\n+++ C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java\n@@ -2,13 +2,19 @@\n \n import jakarta.ws.rs.GET;\n import jakarta.ws.rs.Path;\n+import jakarta.ws.rs.PathParam;\n import jakarta.ws.rs.Produces;\n+import jakarta.ws.rs.core.Response;\n \n @Path(\&quot;/hello-world\&quot;)\n public class HelloResource {\n     @GET\n+    @Path(\&quot;personnes/{nom}\&quot;)\n     @Produces(\&quot;text/plain\&quot;)\n-    public String hello() {\n-        return \&quot;Hello, World!\&quot;;\n+    public Response hello(@PathParam(\&quot;nom\&quot;) String nom) {\n+        // return Response.ok(\&quot;Hello, \&quot; + nom).build();\n+        return Response.serverError()\n+                .entity(\&quot;Internal Server Error for \&quot; + nom)\n+                .build();\n     }\n }&quot;,&quot;refToolCallId&quot;:&quot;call_MIvRIjT8233DAislaAft7Ctn&quot;},{&quot;type&quot;:&quot;thought&quot;,&quot;text&quot;:&quot;**Preparing final response details**&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;# Résumé des modifications\n- **Ajout d’un chemin dynamique** : `@Path(\&quot;personnes/{nom}\&quot;)` permet de récupérer le nom directement depuis l’URL (`.../api/hello-world/personnes/Mohamed`).\n- **Extraction du paramètre** : ajout de `@PathParam(\&quot;nom\&quot;)` pour injecter la valeur d’URL dans la méthode.\n- **Passage à `Response`** : la méthode retourne désormais un objet `Response`, ce qui autorise le contrôle du statut et du corps de la réponse.\n- **Gestion d’erreur** : le retour courant simule une erreur serveur avec `Response.serverError()` ; la ligne renvoyant `Response.ok(...)` est commentée pour pouvoir tester facilement les deux comportements.\n\n# Fichier impacté\n1. `C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/Hello.java`\n\nResource# Étapes de test recommandées\n1. **Redeployer l’application** à partir d’IntelliJ (Run &gt; Run ‘TP3 REST’ ou la configuration que vous avez renommée).\n2. Ouvrir un navigateur sur  \n   `http://localhost:8080/&lt;context-path&gt;/api/hello-world/personnes/Mohamed`  \n   (remplacez `&lt;context-path&gt;` par celui affiché dans la configuration/de l’URL 404).\n   - Vous devriez voir le message d’erreur `Internal Server Error for Mohamed`.\n3. Pour vérifier la réponse “OK”, décommentez temporairement la ligne `Response.ok(...)`, commentez celle de `serverError`, redeployez, puis rechargez l’URL : la réponse texte doit être `Hello, Mohamed`.\n\n# Suggestion\nLe fichier `.zencoder/rules/repo.md` est absent ; le créer permettra d’automatiser certaines informations sur le dépôt pour de futures interventions.&quot;},{&quot;type&quot;:&quot;codePatch&quot;,&quot;diffs&quot;:[{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/HelloResource.java&quot;,&quot;patch&quot;:&quot;@@ -105,23 +105,91 @@\n .ws.rs.P\n-roduces\n+athParam;%0Aimport jakarta.ws.rs.Produces;%0Aimport jakarta.ws.rs.core.Response\n ;%0A%0A@Path\n@@ -243,16 +243,45 @@\n    @GET%0A\n+    @Path(%22personnes/%7Bnom%7D%22)%0A\n     @Pro\n@@ -314,16 +314,49 @@\n blic\n+ Response hello(@PathParam(%22nom%22)\n  String \n hell\n@@ -351,22 +351,19 @@\n  String \n-hello(\n+nom\n ) %7B%0A    \n@@ -369,16 +369,19 @@\n     \n+ //\n  return \n %22Hel\n@@ -380,23 +380,168 @@\n urn \n-%22Hello, World!%22\n+Response.ok(%22Hello, %22 + nom).build();%0A        return Response.serverError()%0A                .entity(%22Internal Server Error for %22 + nom)%0A                .build()\n ;%0A  \n&quot;,&quot;isNew&quot;:false,&quot;isApplied&quot;:true,&quot;isUnread&quot;:true,&quot;timestamp&quot;:1762265603331}]}],&quot;context&quot;:{&quot;author&quot;:&quot;Code agent&quot;,&quot;operationId&quot;:&quot;c30f25ae-566b-4b54-8e83-da404ca6831b&quot;,&quot;usageStatistics&quot;:{&quot;llmCallsUsedForAnswer&quot;:5.0,&quot;llmCallsUsedTotal&quot;:7.0,&quot;llmCallsLimit&quot;:30.0,&quot;limitRenewalMillisecondTimestamp&quot;:1762267631720}},&quot;createdAt&quot;:1762265580371,&quot;isInternal&quot;:false}],&quot;isAgent&quot;:true,&quot;isNameGenerated&quot;:true,&quot;isCustomAgent&quot;:false,&quot;isUnitTestsAgent&quot;:false,&quot;isE2EAgent&quot;:false,&quot;isQnaAgent&quot;:false,&quot;isRepoInfoAgent&quot;:false,&quot;isClaudeCode&quot;:false,&quot;isZencoderCli&quot;:false,&quot;autoApply&quot;:true,&quot;model&quot;:&quot;default&quot;},&quot;a72361ef-a163-40a2-9fef-3bb9d4946daa&quot;:{&quot;id&quot;:&quot;a72361ef-a163-40a2-9fef-3bb9d4946daa&quot;,&quot;createdAt&quot;:1762554154027,&quot;updatedAt&quot;:1762554154028,&quot;title&quot;:&quot;use only langchain and lanchain-gemini in the a...&quot;,&quot;messages&quot;:[{&quot;id&quot;:&quot;69c147c4-53c4-4eb0-8836-94c2e826d37c&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;use only langchain and lanchain-gemini in the app remove all unsceessary dependecies use exavty 1.5.0 version&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;pom.xml&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/pom.xml&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&lt;project xmlns=\&quot;http://maven.apache.org/POM/4.0.0\&quot;\n         xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n         xsi:schemaLocation=\&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ma.emsi.kharraz&lt;/groupId&gt;\n    &lt;artifactId&gt;tp3kharraz&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;tp3kharraz&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.10.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;10.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;\n            &lt;artifactId&gt;langchain4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;\n            &lt;artifactId&gt;langchain4j&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;\n            &lt;artifactId&gt;langchain4j-http-client&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;\n            &lt;artifactId&gt;langchain4j-google-ai-gemini&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;&quot;,&quot;language&quot;:&quot;xml&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762554154028,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;use only langchain and lanchain-gemini in the app remove all unsceessary dependecies use exavty 1.5.0 version&quot;}]}]},&quot;autoAppliedRules&quot;:[]}],&quot;isAgent&quot;:true,&quot;isCustomAgent&quot;:false,&quot;isUnitTestsAgent&quot;:false,&quot;isE2EAgent&quot;:false,&quot;isQnaAgent&quot;:false,&quot;isRepoInfoAgent&quot;:false,&quot;isClaudeCode&quot;:false,&quot;isZencoderCli&quot;:false,&quot;autoApply&quot;:true,&quot;model&quot;:&quot;default&quot;},&quot;4878e786-9144-4059-9293-7cbd667aa8e9&quot;:{&quot;id&quot;:&quot;4878e786-9144-4059-9293-7cbd667aa8e9&quot;,&quot;createdAt&quot;:1762599465145,&quot;updatedAt&quot;:1762599465152,&quot;title&quot;:&quot;Le nombre d'endroits à visiter peut être indiqu...&quot;,&quot;messages&quot;:[{&quot;id&quot;:&quot;c982daa5-a9b4-4b56-ba6a-a98441fd7fd6&quot;,&quot;role&quot;:&quot;user&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Le nombre d'endroits à visiter peut être indiqué par l'utilisateur au lieu d'être fixé à 2.&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;2 possibilités (une des 2 suffit à obtenir le bonus pour le TP) :&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;En le donnant dans le chemin du endpoint REST : ***/lieu/Paris/4. C'est sans doute le plus simple pour vous.&quot;}],&quot;context&quot;:{&quot;currentFile&quot;:{&quot;path&quot;:&quot;src/main/java/ma/emsi/kharraz/tp3kharraz/llm/GuideTouristiqueService.java&quot;,&quot;fsPath&quot;:&quot;C:/Users/ProBook/Documents/Projets IntelliJ IDEA/AI/TPs Casablanca/tp3kharraz/src/main/java/ma/emsi/kharraz/tp3kharraz/llm/GuideTouristiqueService.java&quot;,&quot;sources&quot;:[&quot;opened_tab&quot;],&quot;content&quot;:&quot;package ma.emsi.kharraz.tp3kharraz.llm;\n\nimport dev.langchain4j.model.chat.ChatModel;\nimport dev.langchain4j.model.googleai.GoogleAiGeminiChatModel;\nimport dev.langchain4j.service.AiServices;\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.enterprise.inject.Produces;\n\n@ApplicationScoped\npublic class GuideTouristiqueService {\n\n    @Produces\n    public GuideTouristique createGuideTouristique() {\n        ChatModel model = GoogleAiGeminiChatModel.builder()\n                .apiKey(System.getenv(\&quot;GEMINI_KEY\&quot;))\n                .modelName(\&quot;gemini-2.5-flash\&quot;)\n                .build();\n\n        return AiServices.create(GuideTouristique.class, model);\n    }\n}\n&quot;,&quot;language&quot;:&quot;java&quot;},&quot;codebaseEnabled&quot;:true},&quot;createdAt&quot;:1762599465152,&quot;isInternal&quot;:false,&quot;rawContent&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Le nombre d'endroits à visiter peut être indiqué par l'utilisateur au lieu d'être fixé à 2.&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;2 possibilités (une des 2 suffit à obtenir le bonus pour le TP) :&quot;}]},{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;En le donnant dans le chemin du endpoint REST : ***/lieu/Paris/4. C'est sans doute le plus simple pour vous.&quot;}]}]},&quot;autoAppliedRules&quot;:[]}],&quot;isAgent&quot;:true,&quot;isCustomAgent&quot;:false,&quot;isUnitTestsAgent&quot;:false,&quot;isE2EAgent&quot;:false,&quot;isQnaAgent&quot;:false,&quot;isRepoInfoAgent&quot;:false,&quot;isClaudeCode&quot;:false,&quot;isZencoderCli&quot;:false,&quot;autoApply&quot;:true,&quot;model&quot;:&quot;default&quot;}}" />
  </component>
</project>